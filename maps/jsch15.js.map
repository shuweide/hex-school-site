{"version":3,"sources":["jsch15.js"],"names":["xhr","XMLHttpRequest","open","send","onload","status","responseText","postHexSchoolApi","e","account","document","querySelector","value","password","console","id","body","contentType","target","stringify","log","xhr2","setRequestHeader","JSON","parse","alert","response","message","addEventListener"],"mappings":"aAAA,IAAIA,IAAM,IAAIC,eAAdD,IAAIA,KAAG,MAAOC,sDAAd,GAEAD,IAAIE,KAAK,MACTF,IAAIG,OAAJ,WACAH,GAAa,MAATI,IAAJC,OACcL,KAAIM,MAAAA,IAAAA,eAMf,IAAAC,iBAAA,SAAAC,GAPH,IAAAC,EAAAC,SAAAC,cAAA,cAAAC,MAYMC,EAAWH,SAASC,cAAc,eAAeC,MAErDE,EAAYD,oCACZC,EAAA,SAAqBC,EAArB,aAAAF,EAGW,iBAAPG,EAAAA,OAAOD,KAGTE,EAAc,mBADhBD,EAAME,KAAOH,UAAO,CAClBE,MAAAA,EACAD,SAAYG,KAKdL,IAAAA,EAAA,IAAYG,eACZH,EAAAA,KAAQM,OAlB0B,uDAmBlC,GAGAC,EAAKC,iBAAiB,eAAgBL,GAFtCI,EAAIA,KAAIL,GACRK,EAAKnB,OAAK,WAEVmB,IAAKlB,EAALoB,KAAAC,MAAAH,EAAAf,cAIEmB,MAAMC,EAASC,WAChBjB,SAJDC,cAAA,iBAOFiB,iBAAA,QAAArB,kBAAA,GAIAG,SAASC,cAAc,iBAHvBD,iBAAA,QAAuBH,kBAClBqB","file":"../js/jsch15.js","sourcesContent":["let xhr = new XMLHttpRequest();\r\n\r\nxhr.open('get', 'https://hexschool.github.io/ajaxHomework/data.json', true);\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n  console.log(xhr.responseText);\r\n  if (xhr.status === 200) {\r\n    let str = JSON.parse(xhr.responseText);\r\n    console.log(str[0].name);\r\n  } else {\r\n    console.log('資料錯誤');\r\n  }\r\n};\r\n\r\nlet postHexSchoolApi = function (e) {\r\n  let account = document.querySelector('#accountId').value;\r\n  let password = document.querySelector('#passwordId').value;\r\n  console.log(account);\r\n  console.log(password);\r\n  console.log(e.target.id);\r\n\r\n  let contentType = 'application/x-www-form-urlencoded';\r\n  let body = 'email=' + account + '&password=' + password;\r\n\r\n  if (e.target.id === 'submitJsonId') {\r\n    contentType = 'application/json';\r\n    body = JSON.stringify({\r\n      email: account,\r\n      password: password\r\n    });\r\n  }\r\n  console.log(contentType);\r\n  console.log(body);\r\n  //https://github.com/hexschool/nodejs_ajax_tutorial\r\n  let xhr2 = new XMLHttpRequest();\r\n  xhr2.open('post', 'https://hexschool-tutorial.herokuapp.com/api/signup', true);\r\n  xhr2.setRequestHeader('Content-type', contentType);\r\n  xhr2.send(body);\r\n  xhr2.onload = function () {\r\n    console.log(xhr2.responseText);\r\n    let response = JSON.parse(xhr2.responseText);\r\n    alert(response.message);\r\n  };\r\n};\r\n\r\n//Form Click\r\ndocument.querySelector('#submitFormId')\r\n    .addEventListener('click', postHexSchoolApi, false);\r\n//Json Click\r\ndocument.querySelector('#submitJsonId')\r\n    .addEventListener('click', postHexSchoolApi, false);"]}