{"version":3,"sources":["jsch15.js"],"names":["xhr","XMLHttpRequest","open","send","onload","console","log","responseText","status","str","JSON","parse","name","postHexSchoolApi","e","account","document","querySelector","value","password","target","id","contentType","body","stringify","email","xhr2","setRequestHeader","response","alert","message","addEventListener"],"mappings":";;AAAA,IAAIA,GAAG,GAAG,IAAIC,cAAJ,EAAV;AAEAD,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgB,oDAAhB,EAAsE,IAAtE;AACAF,GAAG,CAACG,IAAJ,CAAS,IAAT;;AACAH,GAAG,CAACI,MAAJ,GAAa,YAAY;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,YAAhB;;AACA,MAAIP,GAAG,CAACQ,MAAJ,KAAe,GAAnB,EAAwB;AACtB,QAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWX,GAAG,CAACO,YAAf,CAAV;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAAC,CAAD,CAAH,CAAOG,IAAnB;AACD,GAHD,MAGO;AACLP,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;AACF,CARD;;AAUA,IAAIO,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUC,CAAV,EAAa;AAClC,MAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,KAAnD;AACA,MAAIC,QAAQ,GAAGH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCC,KAArD;AACAb,EAAAA,OAAO,CAACC,GAAR,CAAYS,OAAZ;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYQ,CAAC,CAACM,MAAF,CAASC,EAArB;AAEA,MAAIC,WAAW,GAAG,mCAAlB;AACA,MAAIC,IAAI,GAAG,WAAWR,OAAX,GAAqB,YAArB,GAAoCI,QAA/C;;AAEA,MAAIL,CAAC,CAACM,MAAF,CAASC,EAAT,KAAgB,cAApB,EAAoC;AAClCC,IAAAA,WAAW,GAAG,kBAAd;AACAC,IAAAA,IAAI,GAAGb,IAAI,CAACc,SAAL,CAAe;AACpBC,MAAAA,KAAK,EAAEV,OADa;AAEpBI,MAAAA,QAAQ,EAAEA;AAFU,KAAf,CAAP;AAID;;AACDd,EAAAA,OAAO,CAACC,GAAR,CAAYgB,WAAZ;AACAjB,EAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAZ,EAlBkC,CAmBlC;;AACA,MAAIG,IAAI,GAAG,IAAIzB,cAAJ,EAAX;AACAyB,EAAAA,IAAI,CAACxB,IAAL,CAAU,MAAV,EAAkB,qDAAlB,EAAyE,IAAzE;AACAwB,EAAAA,IAAI,CAACC,gBAAL,CAAsB,cAAtB,EAAsCL,WAAtC;AACAI,EAAAA,IAAI,CAACvB,IAAL,CAAUoB,IAAV;;AACAG,EAAAA,IAAI,CAACtB,MAAL,GAAc,YAAY;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYoB,IAAI,CAACnB,YAAjB;AACA,QAAIqB,QAAQ,GAAGlB,IAAI,CAACC,KAAL,CAAWe,IAAI,CAACnB,YAAhB,CAAf;AACAsB,IAAAA,KAAK,CAACD,QAAQ,CAACE,OAAV,CAAL;AACD,GAJD;AAKD,CA7BD,C,CA+BA;;;AACAd,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EACKc,gBADL,CACsB,OADtB,EAC+BlB,gBAD/B,EACiD,KADjD,E,CAEA;;AACAG,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EACKc,gBADL,CACsB,OADtB,EAC+BlB,gBAD/B,EACiD,KADjD","sourcesContent":["let xhr = new XMLHttpRequest();\r\n\r\nxhr.open('get', 'https://hexschool.github.io/ajaxHomework/data.json', true);\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n  console.log(xhr.responseText);\r\n  if (xhr.status === 200) {\r\n    let str = JSON.parse(xhr.responseText);\r\n    console.log(str[0].name);\r\n  } else {\r\n    console.log('資料錯誤');\r\n  }\r\n};\r\n\r\nlet postHexSchoolApi = function (e) {\r\n  let account = document.querySelector('#accountId').value;\r\n  let password = document.querySelector('#passwordId').value;\r\n  console.log(account);\r\n  console.log(password);\r\n  console.log(e.target.id);\r\n\r\n  let contentType = 'application/x-www-form-urlencoded';\r\n  let body = 'email=' + account + '&password=' + password;\r\n\r\n  if (e.target.id === 'submitJsonId') {\r\n    contentType = 'application/json';\r\n    body = JSON.stringify({\r\n      email: account,\r\n      password: password\r\n    });\r\n  }\r\n  console.log(contentType);\r\n  console.log(body);\r\n  //https://github.com/hexschool/nodejs_ajax_tutorial\r\n  let xhr2 = new XMLHttpRequest();\r\n  xhr2.open('post', 'https://hexschool-tutorial.herokuapp.com/api/signup', true);\r\n  xhr2.setRequestHeader('Content-type', contentType);\r\n  xhr2.send(body);\r\n  xhr2.onload = function () {\r\n    console.log(xhr2.responseText);\r\n    let response = JSON.parse(xhr2.responseText);\r\n    alert(response.message);\r\n  };\r\n};\r\n\r\n//Form Click\r\ndocument.querySelector('#submitFormId')\r\n    .addEventListener('click', postHexSchoolApi, false);\r\n//Json Click\r\ndocument.querySelector('#submitJsonId')\r\n    .addEventListener('click', postHexSchoolApi, false);"],"file":"../js/jsch15.js"}