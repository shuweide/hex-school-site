{"version":3,"sources":["jsch11localstorage.js"],"names":["list","document","querySelector","sendData","data","JSON","parse","localStorage","getItem","addEventListener","addData","toggleDone","updateList","e","preventDefault","txt","value","todo","content","push","setItem","stringify","items","str","len","length","i","innerHTML","target","nodeName","index","dataset","splice"],"mappings":";;AAAA;AACA,IAAIA,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAX;AACA,IAAIC,QAAQ,GAAGF,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAf;AACA,IAAIE,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,KAAgD,EAA3D,C,CAEA;;AACAL,QAAQ,CAACM,gBAAT,CAA0B,OAA1B,EAAmCC,OAAnC;AACAV,IAAI,CAACS,gBAAL,CAAsB,OAAtB,EAA+BE,UAA/B;AACAC,UAAU,CAACR,IAAD,CAAV,C,CAEA;;AACA,SAASM,OAAT,CAAkBG,CAAlB,EAAqB;AACnBA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAIC,GAAG,GAAGd,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCc,KAA1C;AACA,MAAIC,IAAI,GAAG;AACTC,IAAAA,OAAO,EAAEH;AADA,GAAX;AAGAX,EAAAA,IAAI,CAACe,IAAL,CAAUF,IAAV;AACAL,EAAAA,UAAU,CAACR,IAAD,CAAV;AACAG,EAAAA,YAAY,CAACa,OAAb,CAAqB,UAArB,EAAiCf,IAAI,CAACgB,SAAL,CAAejB,IAAf,CAAjC;AACD,C,CAED;;;AACA,SAASQ,UAAT,CAAqBU,KAArB,EAA4B;AAC1BC,EAAAA,GAAG,GAAG,EAAN;AACA,MAAIC,GAAG,GAAGF,KAAK,CAACG,MAAhB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBF,GAAG,GAAGE,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5BH,IAAAA,GAAG,IAAI,gCAAgCG,CAAhC,GAAoC,kBAApC,GAAyDJ,KAAK,CAACI,CAAD,CAAL,CAASR,OAAlE,GAA4E,cAAnF;AACD;;AACDlB,EAAAA,IAAI,CAAC2B,SAAL,GAAiBJ,GAAjB;AACD,C,CAED;;;AACA,SAASZ,UAAT,CAAqBE,CAArB,EAAwB;AACtBA,EAAAA,CAAC,CAACC,cAAF;;AACA,MAAID,CAAC,CAACe,MAAF,CAASC,QAAT,KAAsB,GAA1B,EAA+B;AAC7B;AACD;;AACD,MAAIC,KAAK,GAAGjB,CAAC,CAACe,MAAF,CAASG,OAAT,CAAiBD,KAA7B;AACA1B,EAAAA,IAAI,CAAC4B,MAAL,CAAYF,KAAZ,EAAmB,CAAnB;AACAvB,EAAAA,YAAY,CAACa,OAAb,CAAqB,UAArB,EAAiCf,IAAI,CAACgB,SAAL,CAAejB,IAAf,CAAjC;AACAQ,EAAAA,UAAU,CAACR,IAAD,CAAV;AACD","sourcesContent":["// 指定 dom\r\nlet list = document.querySelector('.list');\r\nlet sendData = document.querySelector('.send');\r\nlet data = JSON.parse(localStorage.getItem('listData')) || [];\r\n\r\n// 監聽與更新\r\nsendData.addEventListener('click', addData);\r\nlist.addEventListener('click', toggleDone);\r\nupdateList(data);\r\n\r\n//加入列表，並同步更新網頁與 localstorage\r\nfunction addData (e) {\r\n  e.preventDefault();\r\n  let txt = document.querySelector('.text').value;\r\n  let todo = {\r\n    content: txt\r\n  };\r\n  data.push(todo);\r\n  updateList(data);\r\n  localStorage.setItem('listData', JSON.stringify(data));\r\n}\r\n\r\n// 更新網頁內容\r\nfunction updateList (items) {\r\n  str = '';\r\n  let len = items.length;\r\n  for (let i = 0; len > i; i++) {\r\n    str += '<li><a href=\"#\" data-index=' + i + ' />刪除</a> <span>' + items[i].content + '</span></li>';\r\n  }\r\n  list.innerHTML = str;\r\n}\r\n\r\n// 刪除代辦事項\r\nfunction toggleDone (e) {\r\n  e.preventDefault();\r\n  if (e.target.nodeName !== 'A') {\r\n    return\r\n  }\r\n  let index = e.target.dataset.index;\r\n  data.splice(index, 1);\r\n  localStorage.setItem('listData', JSON.stringify(data));\r\n  updateList(data);\r\n}"],"file":"../js/jsch11localstorage.js"}