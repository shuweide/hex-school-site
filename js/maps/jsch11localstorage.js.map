{"version":3,"sources":["jsch11localstorage.js"],"names":["list","document","querySelector","sendData","getItem","addData","e","preventDefault","todo","content","value","data","push","updateList","localStorage","setItem","JSON","stringify","items","str","len","length","i","innerHTML","toggleDone","target","nodeName","dataset","index","splice","addEventListener"],"mappings":"aACA,IAAIA,KAAOC,SAASC,cAAc,SADlCC,SAAAF,SAAAC,cAAA,SACIF,KAAOC,KAAAA,MAASC,aAAcE,QAAlC,cAAA,GAUA,SAASC,QAATC,GACEA,EAAEC,iBACF,IACIC,EAAO,CACTC,QAFQR,SAASC,cAAc,SAASQ,OAI1CC,KAAKC,KAAKJ,GACVK,WAAWF,MACXG,aAAaC,QAAQ,WAAYC,KAAKC,UAAUN,OAIlD,SAASE,WAAYK,GACnBC,IAAM,GAEN,IADA,IAAIC,EAAMF,EAAMG,OACPC,EAAI,EAASA,EAANF,EAASE,IAAzBH,KAASG,8BAAqBA,EAAA,mBAAAJ,EAAAI,GAAAb,QAAA,eAE7BT,KAAAuB,UAAAJ,IAKH,SAASK,WAAYlB,GAArB,GACEA,EAAEC,iBADoB,MAAxBD,EAAAmB,OAASD,SAAT,CAEE,IAAIlB,EAAAA,EAASoB,OAATC,QAAJC,MACEjB,KAAAkB,OAAAD,EAAA,GACDd,aAAAC,QAAA,WAAAC,KAAAC,UAAAN,OAIDE,WAAWF,OAnCbR,SAAS2B,iBAAiB,QAASzB,SAAnCF,KAAAA,iBAAS2B,QAAiBN,YAC1BxB,WAAK8B","file":"../jsch11localstorage.js","sourcesContent":["// 指定 dom\r\nlet list = document.querySelector('.list');\r\nlet sendData = document.querySelector('.send');\r\nlet data = JSON.parse(localStorage.getItem('listData')) || [];\r\n\r\n// 監聽與更新\r\nsendData.addEventListener('click', addData);\r\nlist.addEventListener('click', toggleDone);\r\nupdateList(data);\r\n\r\n//加入列表，並同步更新網頁與 localstorage\r\nfunction addData (e) {\r\n  e.preventDefault();\r\n  let txt = document.querySelector('.text').value;\r\n  let todo = {\r\n    content: txt\r\n  };\r\n  data.push(todo);\r\n  updateList(data);\r\n  localStorage.setItem('listData', JSON.stringify(data));\r\n}\r\n\r\n// 更新網頁內容\r\nfunction updateList (items) {\r\n  str = '';\r\n  let len = items.length;\r\n  for (let i = 0; len > i; i++) {\r\n    str += '<li><a href=\"#\" data-index=' + i + ' />刪除</a> <span>' + items[i].content + '</span></li>';\r\n  }\r\n  list.innerHTML = str;\r\n}\r\n\r\n// 刪除代辦事項\r\nfunction toggleDone (e) {\r\n  e.preventDefault();\r\n  if (e.target.nodeName !== 'A') {\r\n    return\r\n  }\r\n  let index = e.target.dataset.index;\r\n  data.splice(index, 1);\r\n  localStorage.setItem('listData', JSON.stringify(data));\r\n  updateList(data);\r\n}"]}