{"version":3,"sources":["jsch15.js"],"names":["xhr","XMLHttpRequest","open","send","console","log","responseText","onload","status","str","name","JSON","postHexSchoolApi","e","account","document","querySelector","value","password","target","id","body","contentType","stringify","xhr2","setRequestHeader","parse","alert","response","message","addEventListener"],"mappings":"aAAA,IAAIA,IAAM,IAAIC,eAAdD,IAAIA,KAAG,MAAOC,sDAAd,GAEAD,IAAIE,KAAK,MACTF,IAAIG,OAAJ,WACAH,GACEI,QAAQC,IAAIL,IAAIM,cADL,MAATC,IAAJC,OAAyB,CACvBJ,IAAAA,EAAYJ,KAAIM,MAAAA,IAAAA,cAGdF,QAAQC,IAAII,EAAI,GAAGC,WADnBN,QAAOC,IAAGM,SAIX,IAAAC,iBAAA,SAAAC,GAPH,IAAAC,EAAAC,SAAAC,cAAA,cAAAC,MAYMC,EAAWH,SAASC,cAAc,eAAeC,MAFvDb,QAAIQ,IAAAA,GACFR,QAAIU,IAAOI,GACXd,QAAIc,IAAQL,EAAAM,OAAGJ,IAEfX,IAAAA,EAAYc,oCACZd,EAAA,SAAqBgB,EAArB,aAAAF,EAGW,iBAAPG,EAAAA,OAAOD,KAGTE,EAAc,mBADhBD,EAAMF,KAAOC,UAAO,CAClBE,MAAAA,EACAD,SAAYE,KAAUnB,QAAtBC,IAAAiB,GAIDlB,QAAAC,IAAAgB,GACDjB,IAAAA,EAAA,IAAYkB,eACZlB,EAAAA,KAAQC,OAlB0B,uDAmBlC,GAGAmB,EAAKC,iBAAiB,eAAgBH,GAFtCE,EAAIA,KAAIH,GACRG,EAAKtB,OAAK,WACVsB,QAAKC,IAAAA,EAAAA,cACLD,IAAKrB,EAALQ,KAAAe,MAAAF,EAAAlB,cAIEqB,MAAMC,EAASC,WAChBd,SAJDC,cAAA,iBAOFc,iBAAA,QAAAlB,kBAAA,GAIAG,SAASC,cAAc,iBAHvBD,iBAAA,QAAuBH,kBAClBkB","file":"../jsch15.js","sourcesContent":["let xhr = new XMLHttpRequest();\r\n\r\nxhr.open('get', 'https://hexschool.github.io/ajaxHomework/data.json', true);\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n  console.log(xhr.responseText);\r\n  if (xhr.status === 200) {\r\n    let str = JSON.parse(xhr.responseText);\r\n    console.log(str[0].name);\r\n  } else {\r\n    console.log('資料錯誤');\r\n  }\r\n};\r\n\r\nlet postHexSchoolApi = function (e) {\r\n  let account = document.querySelector('#accountId').value;\r\n  let password = document.querySelector('#passwordId').value;\r\n  console.log(account);\r\n  console.log(password);\r\n  console.log(e.target.id);\r\n\r\n  let contentType = 'application/x-www-form-urlencoded';\r\n  let body = 'email=' + account + '&password=' + password;\r\n\r\n  if (e.target.id === 'submitJsonId') {\r\n    contentType = 'application/json';\r\n    body = JSON.stringify({\r\n      email: account,\r\n      password: password\r\n    });\r\n  }\r\n  console.log(contentType);\r\n  console.log(body);\r\n  //https://github.com/hexschool/nodejs_ajax_tutorial\r\n  let xhr2 = new XMLHttpRequest();\r\n  xhr2.open('post', 'https://hexschool-tutorial.herokuapp.com/api/signup', true);\r\n  xhr2.setRequestHeader('Content-type', contentType);\r\n  xhr2.send(body);\r\n  xhr2.onload = function () {\r\n    console.log(xhr2.responseText);\r\n    let response = JSON.parse(xhr2.responseText);\r\n    alert(response.message);\r\n  };\r\n};\r\n\r\n//Form Click\r\ndocument.querySelector('#submitFormId')\r\n    .addEventListener('click', postHexSchoolApi, false);\r\n//Json Click\r\ndocument.querySelector('#submitJsonId')\r\n    .addEventListener('click', postHexSchoolApi, false);"]}